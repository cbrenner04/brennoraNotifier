<% breadcrumb :edit_notification, @event, @experience, @notification %>

<h1>Edit <%= @experience.name %> Notification</h1>

<div class="mt-3">
  <%= form_for @notification, url: event_experience_notification_path(@event, @experience, @notification), class: "form-horizontal" do |f| %>
    <%= render "shared/alert", invalid_object: @notification, name: "notification" %>

    <div class="form-group">
      <%= f.label :sms_body %>
      <i type="button" class="fa fa-question-circle text-muted" data-toggle="tooltip" data-placement="top" title="We recommend SMS messages stay under 160 characters to ensure all guests receive the full message."></i>
      <%= f.text_area :sms_body, class: "form-control", onkeyup: "countChar(this)" %>
      <small id="sms-character-count-help" class="form-text text-muted">
        <%= @notification.sms_body.length %> characters
      </small>
    </div>

    <div class="form-group">
      <label for="notification_sms_link">SMS Link</label>
      <i type="button" class="fa fa-question-circle text-muted" data-toggle="tooltip" data-placement="top" title="If you'd like to have a link in your SMS, enter it here. We will shorten it for you and append it to the SMS body."></i>
      <input id="notification_sms_link" name="sms-link" type="text" class="form-control">
      <button type="button" class="btn btn-outline-secondary" onclick="appendSmsLink()">Append link to SMS body</button>
    </div>

    <div class="form-group">
      <%= f.label :email_body %>
      <%= f.text_area :email_body, class: "form-control", rows: "10" %>
    </div>

    <%= f.submit "Save", class: "btn btn-primary" %>
    <%= link_to "Cancel", event_experience_notification_path(@event, @experience, @notification), class: "btn btn-secondary"  %>
  <% end %>
</div>
